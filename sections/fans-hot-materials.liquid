<style>
  .fans-hot-materials {
    letter-spacing: 0;
    padding-bottom: 40px;
  }
  .fans-hot-materials-box {
    width: 1506px;
    margin: 0 auto;
    background: #fffaee;
    padding: 20px 20px 32px;
    border-radius: 10px 10px 10px 10px;
  }
  .fans-hot-materials-product {
    display: flex;
    flex-wrap: wrap;
    margin-top: 14px;
    justify-content: center;
  }
  .materials-product-items {
    width: 23.5%;
    margin: 0 20px 20px 0;
    padding: 12px 12px 14px;
    background: #fff;
    border-radius: 10px;
  }
  .materials-product-items:nth-child(4n) {
    margin-right: 0;
  }
  .fans-hot-materials-coupon {
    display: flex;
    justify-content: center;
    position: relative;
    margin-bottom: 25px;
  }
  .coupon-text {
    position: absolute;
    top: 32px;
    left: 96px;
  }
  .coupon-title {
    font-weight: bold;
    font-size: 40px;
    color: #7e3c00;
    line-height: 46px;
  }
  .coupon-desc {
    font-weight: bold;
    font-size: 24px;
    color: #7e3c00;
    line-height: 28px;
    margin-top: 5px;
  }
  .coupon-code {
    font-size: 18px;
    color: #7e3c00;
    line-height: 21px;
    display: flex;
    align-items: flex-end;
    margin-top: 13px;
  }
  .coupon-code > span:nth-child(2) {
    display: flex;
    align-items: baseline;
  }
  .coupon-code > span:nth-child(2) > img {
    cursor: pointer;
    margin-left: 8px;
  }
  .coupon-code-validity {
    font-size: 18px;
    color: #7e3c00;
    line-height: 21px;
    margin-top: 15px;
  }
  .fans-hot-materials-product .fn-product-layout {
    flex-direction: column;
    margin-top: 5px;
  }
  .fans-hot-materials-product .fn-product-title .t {
    font-weight: bold;
    font-size: 20px;
    color: #6d3309;
    line-height: 23px;
    height: 48px;
  }
  .fans-hot-materials-product .fn-product-title {
    width: 100%;
  }
  .fans-hot-materials-product .fn-product-price {
    width: 100%;
    margin-top: 7px;
  }
  .fans-hot-materials-product .fn-product-price span {
    float: left;
    color: #ff7500;
    font-size: 18px;
    line-height: 21px;
  }
  .fans-hot-materials-product .fn-compareat_price {
    flex-direction: row;
    align-items: baseline;
  }
  .fans-hot-materials-product .fn-compareat_price .fn-compare-at_price {
    color: #ff7500;
    font-size: 14px;
    font-weight: 400;
    margin-left: 5px;
  }
  .fans-hot-materials-product .fn-color-attr {
    margin-top: 10px;
  }
  .fans-hot-materials-product .button--full-width {
    margin-top: 22px;
    border-radius: 4px;
    background: linear-gradient(91deg, #ff9a30 0%, #ff8830 100%);
    --border-offset: none;
    --border-opacity: none;
    font-size: 16px;
  }
  .learn-more {
    text-align: center;
  }
  .learn-more > a {
    background: #ffc293;
    border-radius: 4px 4px 4px 4px;
    border: 1px solid #7e3c00;
    padding: 10px 65px;
    display: inline-block;
    color: #7e3c00;
    font-size: 14px;
    font-weight: 600;
  }
  @media screen and (max-width: 1660px) {
    .fans-hot-materials-box {
      width: 83.3% !important;
    }
  }
  @media screen and (max-width: 1520px) {
    .coupon-text {
      top: 19px;
      left: 80px;
    }
  }
  @media screen and (max-width: 1440px) {
    .coupon-title {
      font-size: 34px;
      line-height: 38px;
    }
    .coupon-code,
    .coupon-code-validity {
      margin-top: 10px;
    }
    .coupon-text {
      left: 65px;
    }
  }
  @media screen and (max-width: 1350px) {
    .coupon-title {
      font-size: 26px;
      line-height: 28px;
    }
    .coupon-desc {
      line-height: 22px;
      font-size: 20px;
    }
  }
  @media screen and (max-width: 1250px) {
    .coupon-title {
      font-size: 22px;
      line-height: 21px;
    }
    .coupon-desc {
      font-size: 18px;
      line-height: 21px;
    }
    .coupon-code,
    .coupon-code-validity {
      font-size: 16px;
      line-height: 18px;
    }
    .coupon-text {
      left: 48px;
    }
    .materials-product-items {
      margin: 0 10px 20px 0;
      padding: 5px 5px 8px;
    }
  }
  @media screen and (max-width: 1024px) {
    .coupon-code,
    .coupon-code-validity {
      margin-top: 4px;
    }
  }
  @media screen and (max-width: 820px) {
    .coupon-right {
      display: none;
    }
    .coupon-text {
      left: 29%;
      top: 28px;
    }
    .materials-product-items {
      width: 48%;
    }
    .coupon-title {
      font-size: 24px;
      line-height: 28px;
    }
    .coupon-desc {
      font-size: 16px;
      line-height: 19px;
    }
    .coupon-code,
    .coupon-code-validity {
      margin-top: 7px;
      font-size: 14px;
      line-height: 16px;
    }
    .materials-product-items:nth-child(2n) {
      margin-right: 0;
    }
    .coupon-code > span:nth-child(2) > img {
      width: 14px;
    }
  }
  @media screen and (max-width: 750px) {
    .fans-hot-materials-box {
      width: 93.6% !important;
    }
  }
  @media screen and (max-width: 480px) {
    .coupon-text {
      left: 17%;
    }
    .fans-bundles-title > p {
      font-size: 16px;
      line-height: 21px;
    }
    .fans-bundle-desc {
      font-size: 14px;
      line-height: 16px;
      margin-top: 2px;
    }
    .fans-hot-materials-box {
      padding: 12px 4px 14px;
    }
    .fans-hot-materials-coupon {
      margin-bottom: 12px;
    }
    .fans-hot-materials-product {
      margin-top: 7px;
    }
    .fans-hot-materials-product .fn-product-title .t {
      font-size: 14px;
      line-height: 16px;
      height: 32px;
    }
    .fans-hot-materials-product .fn-product-price span {
      font-size: 16px;
      line-height: 19px;
    }
    .fans-hot-materials-product .button--full-width {
      margin-top: 10px;
      font-size: 14px;
      height: 40px;
      min-height: 40px;
    }
    .materials-product-items {
      margin: 0 5px 10px 0;
    }
    .learn-more > a {
      padding: 10px 20px;
    }
  }
  @media screen and (max-width: 410px) {
    .coupon-text {
      left: 12%;
    }
  }
  @media screen and (min-width: 480px) {
    .bottom-coupon {
      display: none;
    }
  }
  .bottom-coupon {
    padding: 15px 0;
    position: fixed;
    bottom: 0;
    right: 0;
    width: 100%;
    z-index: 999999;
    opacity: 0.9;
    background: #fff;
  }
  .bottom-coupon-box {
    display: flex;
    justify-content: center;
  }
  .bottom-coupon .coupon-text {
    top: 20%;
    left: 18%;
  }
  .bottom-coupon .coupon-title {
    font-size: 21px;
  }
  .bottom-coupon .coupon-title span {
    font-size: 14px;
  }
  .bottom-coupon .coupon-code {
    margin-top: 0;
  }
  .bottom-coupon .coupon-desc {
    font-size: 14px;
    font-weight: 400;
  }
  .bottom-coupon-button {
    position: absolute;
    width: 83px;
    height: 30px;
    color: #fff;
    background: #ff8a32;
    right: 17.5%;
    top: 39%;
    text-align: center;
    line-height: 30px;
  }
  .bottom-coupon .closeBtn {
    color: #872900;
    width: 30px;
    height: 30px;
    text-align: center;
    line-height: 30px;
    font-weight: bold;
    position: absolute;
    top: 5%;
    right: 1%;
  }
</style>
<div class="fans-hot-materials" id="{{ section.settings.id }}">
  <div class="fans-hot-materials-box">
    <div class="fans-hot-materials-coupon" id="materials_coupon">
      <div class="coupon-left">
        <picture>
          <source media="(max-width: 820px)" srcset="{{ section.settings.coupon_left_mobile | img_url:'333x' }}">
          <source media="(min-width: 820px)" srcset="{{ section.settings.coupon_left | img_url:'566x' }}">
          <img src="{{ section.settings.coupon_left | img_url:'566x' }}">
        </picture>
        <div class="coupon-text">
          <p class="coupon-title">
            {{ section.settings.coupon_title_big }}
            {{ section.settings.coupon_title_small }}
          </p>
          <p class="coupon-desc">{{ section.settings.coupon_desc }}</p>
          {% if section.settings.coupon_code %}
            <div class="coupon-code">
              <span>CODE:</span>
              <span>
                {{- section.settings.coupon_code }}
                <img
                  src="https://cdn.shopifycdn.net/s/files/1/0356/5997/2741/files/Group_108_7b1cf405-6a8e-494b-bcfc-ae1c3b2a15ca.png?v=1710405586"
                  onclick="copyticket('{{ section.settings.coupon_code }}')"
                >
              </span>
            </div>
          {% endif %}
          {% if section.settings.coupon_code_validity %}
            <p class="coupon-code-validity">{{ section.settings.coupon_code_validity }}</p>
          {% endif %}
        </div>
      </div>
      <div class="coupon-right">
        <img src="{{ section.settings.coupon_right | img_url:'880x' }}">
      </div>
    </div>
    <div class="fans-bundles-title">
      <p>{{ section.settings.title }}</p>
    </div>
    <div class="fans-bundle-desc">{{ section.settings.desc }}</div>
    <div class="fans-hot-materials-product">
      {% for item in section.settings.product_collection.products %}
        {% if forloop.index <= section.settings.product_count %}
          <div class="materials-product-items">
            <div class="product-items-box">
              {% render 'product-Model-custom',
                card_product: item,
                progress: false,
                show_secondary_image: section.settings.show_secondary_off,
                colorSize: true,
                buttonSeat: 'fileSteam',
                buttonText: 'Add To Cart',
                title: 'flex',
                pirce: 'intitle'
              %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    {% if section.settings.learn_more_link != blank %}
      <div class="learn-more">
        <a href="{{ section.settings.learn_more_link }}" target="_blank">{{ section.settings.btn_text }}</a>
      </div>
    {% endif %}
  </div>
</div>
<div class="bottom-coupon" id="bottom_coupon">
  <div class="bottom-coupon-box">
    <picture>
      <source media="(max-width: 820px)" srcset="{{ section.settings.bottom_coupon_img | img_url:'308x' }}">
      <source media="(min-width: 820px)" srcset="{{ section.settings.bottom_coupon_img | img_url:'308x' }}">
      <img src="{{ section.settings.bottom_coupon_img | img_url:'308x' }}">
    </picture>
    <div class="coupon-text">
      <p class="coupon-title">
        {{ section.settings.coupon_title_big }}
        <span>{{ section.settings.coupon_title_small }}</span>
      </p>
      {% if section.settings.coupon_code %}
        <div class="coupon-code">
          <span>CODE:</span>
          <span>
            {{ section.settings.coupon_code }}
            <img
              src="https://cdn.shopifycdn.net/s/files/1/0356/5997/2741/files/Group_108_7b1cf405-6a8e-494b-bcfc-ae1c3b2a15ca.png?v=1710405586"
              onclick="copyticket('{{ section.settings.coupon_code }}')"
            >
          </span>
        </div>
      {% endif %}
      <p class="coupon-desc">{{ section.settings.coupon_desc }}</p>
    </div>
    <div class="bottom-coupon-button">
      <a href="{{ section.settings.bottom_coupon_link }}" target="_blank">
        <span>{{ section.settings.bottom_coupon_link_text }}</span>
      </a>
    </div>
  </div>
  <div class="closeBtn" id="bottom_coupon_close">X</div>
</div>
<script>
  var bottomCoupon = document.getElementById('bottom_coupon');
  var bcHTML = bottomCoupon.outerHTML;
  localStorage.setItem('couponDiv', bcHTML);
  $('#bottom_coupon_close').click(function () {
    $('#bottom_coupon').hide();
  });
</script>
{% schema %}
{
  "name": "Fans-hot-materials",
  "settings": [
    {
      "type": "text",
      "id": "id",
      "label": "id(页面唯一性，全英文)"
    },
    {
      "type": "text",
      "id": "title",
      "label": "title"
    },
    {
      "type": "text",
      "id": "desc",
      "label": "desc"
    },
    {
      "type": "collection",
      "id": "product_collection",
      "label": "product collection"
    },
    {
      "type": "checkbox",
      "id": "show_secondary_off",
      "default": false,
      "label": "show_secondary_off_iamge"
    },
    {
      "type": "range",
      "id": "product_count",
      "min": 2,
      "max": 8,
      "step": 2,
      "label": "product_count",
      "default": 8
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "btn_text",
      "default": "Learn More>>"
    },
    {
      "type": "url",
      "id": "learn_more_link",
      "label": "learn more link(没填不展示按钮)"
    },
    {
      "type": "image_picker",
      "id": "coupon_left",
      "label": "coupon left"
    },
    {
      "type": "image_picker",
      "id": "coupon_left_mobile",
      "label": "coupon left mobile"
    },
    {
      "type": "image_picker",
      "id": "coupon_right",
      "label": "coupon right"
    },
    {
      "type": "text",
      "id": "coupon_title_big",
      "label": "coupon title(大字体部分)"
    },
    {
      "type": "text",
      "id": "coupon_title_small",
      "label": "coupon title(小字体部分)"
    },
    {
      "type": "text",
      "id": "coupon_desc",
      "label": "coupon_desc"
    },
    {
      "type": "text",
      "id": "coupon_code",
      "label": "coupon_code"
    },
    {
      "type": "text",
      "id": "coupon_code_validity",
      "label": "coupon_code_validity"
    },
    {
      "type": "image_picker",
      "id": "bottom_coupon_img",
      "label": "底部固定coupon部分背景图"
    },
    {
      "type": "url",
      "id": "bottom_coupon_link",
      "label": "底部固定coupon按钮跳转链接"
    },
    {
      "type": "text",
      "id": "bottom_coupon_link_text",
      "label": "底部固定coupon按钮文案",
      "default": "Shop Now"
    }
  ],
  "presets": [
    {
      "name": "Fans-hot-materials"
    }
  ]
}
{% endschema %}
