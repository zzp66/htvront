<style>
  .cup-presell-creativity{
    background-color:#FFFAE7;
    padding: 30px 0 40px 0;
  }
  .cup-presell-width{
    width:1600px;
    margin:0 auto;
  }
  .presell-mask {
    position: fixed;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    left: 0;
    top: 0;
    z-index: 999;
    display: none;
  }
  .presell-mask .carft-creativity-main {
    cursor: pointer;
  }
  .presell-mask>div{
    margin: 0 auto;
    transform: translate(-50%, -50%);
    top: 50%;
    left: 50%;
    position: absolute;
    background-color: #fff;
    border-radius: 16px;
    padding: 3.9% 6.2%;
    width: 74.85%;
  }
  .presell-mask .mask-close {
    position: absolute;
    top: 21px;
    right: 25px;
  }
  .craft-creativity-Video{
    width: 100%;
    height: 653px;
  }
  .presell-player{
    position: absolute;
    left: 50%;
    cursor: pointer;
    top: 50%;
    transform: translate(-50%,-50%);
  }
  .creativity-block{
    display:flex;
    padding: 19px 20px;
    margin-bottom:20px;
    background: linear-gradient(176deg, #FFEFB3 0%, #F9CC55 100%);
    border-radius: 8px;
  }
  .creativity-block:nth-last-of-type(1){
    margin-bottom:0;
  }
  .creativity-video{
    max-width:770px;
    margin-right: 20px;
  }
  .presell-video-img{
    position: relative;
    border-radius: 4px 4px 0 0;
  }
  .video-text{
    height: 60px;
    background: #FFFFFF;
    border-radius: 0px 0px 4px 4px;
    font-size: 20px;
    color: #723600;
    line-height: 60px;
    padding-left: 24px;
  }
  .creativity-imgbox{
    display:flex;
  }
  .creativity-bundle{
    background-color: #fff;
    width: 770px;
    border-radius: 4px;
    padding: 18px 14px 18px 20px;
  }
  .creativity-image{
    margin-right: 20px;
    min-width:439px;
  }
  .creativity-text>a>h3{
    font-size: 30px;
    font-weight: bold;
    color: #723600;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
    height: 40px;
  }
  .presell-text{
    min-height: 15rem;
    padding-left: 20px;
    max-width: 267px;
    margin-top:10px;
  }
  .presell-text>ul>li{
    font-size: 22px;
    color: #723600;
    line-height: 30px;
    list-style-type: disc;
  }
  .cup-presell-width>p{
    font-size: 36px;
    font-weight: bold;
    color: #723600;
    padding-bottom: 20px;
    text-align: center;
    line-height: 36px;
  }
  .creativty-price {
    font-size: 22px;
    font-weight: bold;
    color: #ECA62F;
    line-height: 30px;
    overflow: hidden;
    display: inline-block;
  }
  .creativty-price b {
    float: left;
  }
  .creativty-price .price {
    float: left;
    margin-left: 10px;
  }
  .creativty-price .price__sale .fn-compareat_price, .price__regular .price-item--regular {
    font-size: 22px;
    font-weight: bold;
    color: #ECA62F;
    line-height: 30px;
    flex-direction: inherit;
  }
  .creativty-price .fn-compareat_price .fn-compare-at_price {
    padding: 2px 0 0 10px;
    color: #723600;
    font-weight: 400;
    font-size: 14px;
  }
  .creativity-addcart .button--full-width {
    width: 100%;
    height: 49px;
    background: linear-gradient(156deg, #FFCD66 0%, #ECA62F 100%);
    border-radius: 4px;
    --border-opacity: none;
    font-size: 16px;
  }
  @media screen and (max-width: 1720px){
     .cup-presell-width {
       width: 83.3%;
     }
     .creativity-video {
      max-width: 49%;
    }
    .creativity-bundle {
      max-width: 49%;
    }
     .creativity-image {
      min-width: 55%;
    }
     .creativity-text>a>h3{
       font-size:25px;
       height: 30px;
     }
    .presell-text>ul>li {
      font-size: 18px;
    }
     .cup-presell-width>p{
      font-size: 28px;
     }
     .creativity-addcart .button--full-width{
       width: 100%;
       height: 40px;
       min-height:0;
     }
   }
  @media screen and (max-width: 1440px){
    .creativity-image {
     width: 55%;
    }
    .creativty-price{
      font-size:18px;
    }
    .creativty-price .price__sale .fn-compareat_price, .price__regular .price-item--regular {
      font-size: 18px;
    }
    .creativty-price .fn-compareat_price .fn-compare-at_price {
      font-size: 14px;
    }
  }
  @media screen and (max-width: 1280px){
      .craft-creativity-Video {
        height:400px;
      }
      .creativity-bundle{
        padding:10px;
      }
     .creativity-image {
        margin-right: 10px;
      }
     .creativty-price {
        font-size: 16px;
    }
     .creativty-price .price__sale .fn-compareat_price, .price__regular .price-item--regular {
      font-size: 16px;
    }
  }
  @media screen and (max-width: 1024px){
    .creativity-block{
      padding: 10px;
    }
    .creativity-image{
      width:auto;
      min-width:auto;
    }
    .creativity-text>a>h3 {
      font-size: 20px;
      height: 25px;
    }
    .presell-text>ul>li {
      font-size: 16px;
      line-height: 20px;
    }
    .creativty-price .price {
      margin: 0;
    }
    .creativty-price .fn-compareat_price .fn-compare-at_price {
      padding: 2px 0 0 5px;
    }
    .creativity-addcart .button--full-width{
      font-size: 14px;
      padding: 0;
      height: 36px;
      line-height: 36px;
      min-height: 36px;
    }
  }
   @media screen and (max-width: 820px){
     .craft-creativity-Video {
        height:300px;
      }
     .presell-mask .mask-close {
        top: 5px;
        right: 5px;
      }
     .cup-presell-creativity{
       padding: 15px 0 20px 0;
     }
      .presell-mask>div{
      width:100%;
      border-radius: 0;
      padding: 5.1% 6.9%;
    }
   .presell-mask .mask-close {
      top: 3px;
      right: 4px;
    }
    .presell-mask .mask-close img{
      width:19px;
      height:19px
    }
     .cup-presell-width{
       width:93.6%;
     }
     .cup-presell-width>p{
        font-size: 16px;
        line-height: 22px;
        padding-bottom: 6px;
     }
     .creativity-block{
       padding:8px;
       flex-direction: column;
     }
     .creativity-video{
        max-width:100%;
        margin-right: 0;
        margin-bottom: 10px;
     }
     .video-text{
       height:40px;
       font-size:14px;
       line-height:40px;
     }
     .creativity-bundle {
      max-width: 100%;
    }
    .creativity-price .fn-compareat_price .fn-compare-at_price {
      padding: 2px 0 0 3px;
      font-size: 12px;
      display: inline;
    }
  }
   @media screen and (max-width: 750px){
     .craft-creativity-Video {
        height:230px;
      }
     .creativity-imgbox{
       flex-direction: column;
     }
     .creativity-image {
      width: 100%;
      min-width: 100%;
    }
     .creativity-image>img{
      margin: 0 auto;
     }
     .creativity-text>a>h3 {
      font-size: 14px;
      height: 40px;
      padding: 13px 0 6px 0;
      line-height: 19px;
    }
     .presell-text>ul>li {
      font-size: 14px;
     }
    .presell-text {
      min-height: 9rem;
      max-width: 100%;
       margin-top: 0;
    }
   }
   @media screen and (max-width: 450px){
     .creativity-text>a>h3 {
        height: 36px;
     }
   }
</style>
<div class="cup-presell-creativity"  id="{{ section.settings.id }}">
  <div class="cup-presell-width">
    <p>
      {{ section.settings.title }}
    </p>
    {% for block in section.blocks %}
      <div class="creativity-block">
        <div class="creativity-video">
          <div class="presell-video-img">
            <a href="{{ block.settings.article_link }}" class="presell_image_link">
                <img  src="{{ block.settings.video_image | img_url: '770x' }}">
            </a>
            {% if block.settings.video_url != blank %}
              <img
                onclick="presellFunction('1','{{ block.settings.video_url }}')"
                class="presell-player"
                src="https://cdn.shopify.com/s/files/1/0356/5997/2741/files/8_2x_471043e1-5a6a-4117-b77a-148ad61470a0.png?v=1693280554"
              >
            {% endif %}
          </div>
          <div class="video-text">
            {{ block.settings.video_text }}
          </div>
        </div>
        <div class="creativity-bundle">
         <div class="creativity-imgbox">
          <div class="creativity-image">
             <a href="{{ block.settings.product_item.url }}">
              {% if block.settings.bundle_img != blank %}
                <img src="{{ block.settings.bundle_img | img_url: '439x' }}" alt="">
              {% endif %}
             </a>
          </div>
          <div class="creativity-text">
           <a href="{{  block.settings.product_item.url }}">
            <h3>{{ block.settings.bundle_title }}</h3>
           </a>
          <div class="presell-text">{{ block.settings.ul_text }}</div>
          <div class="creativty-price">
            <b>Only</b>
              {% render 'sffers-price', product:  block.settings.product_item, price_class: '' %}
           </div>
            <div class="creativity-addcart">
              {% render 'addCart-Model' ,product: block.settings.product_item, buttonText: 'ADD TO CART' %}
            </div>
          </div>
        </div>
      </div>
      </div>
    {% endfor %}
  </div>
</div>
<div class="presell-mask">
  <div>
    <div class="carft-creativity-main">
      <div class="mask-close" onclick="presellFunction('2')">
        <img src="https://cdn.shopify.com/s/files/1/0356/5997/2741/files/7_8ba31ff8-9cdf-403b-ac36-d36b25abab80.png?v=1683355188">
      </div>
      <div class="craft-creativity-Video">
        <iframe
          id="video-Iframe"
          width="100%"
          height="100%"
          src=""
          title="YouTube video player"
          frameborder="no"
          border="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </div>
</div>
<script>
  function presellFunction(e,link){
    if(e == 1 ) {
      $('#video-Iframe').eq(0).attr('src',link)
      $('.presell-mask').show();

    }
    if(e == 2 ) {
      $('.presell-mask').hide();
      $('#video-Iframe').eq(0).attr('src','')
    }
  }
</script>
{% schema %}
  {
    "name": "Cup-Presell-Creativity",
    "settings": [
       {
        "type":"text",
        "id":"id",
        "label":"id(页面唯一性，全英文)"
      },{
      "type":"text",
      "id":"title",
      "label":"title"
    }],
    "blocks":[{
      "type":"bundle",
      "name": "bundle",
      "settings": [{
        "type":"image_picker",
        "id":"video_image",
        "label":"video image"
      },{
        "type":"url",
        "id":"video_url",
        "label":"video url"
      },{
        "type":"text",
        "id":"video_text",
        "label":"video text"
      },{
        "type": "product",
        "id": "product_item",
        "label": "product item"
      },{
        "type":"image_picker",
        "id":"bundle_img",
        "label":"bundle image"
      },{
        "type":"text",
        "id":"bundle_title",
        "label":"bundle title"
      },{
        "type":"html",
        "id":"ul_text",
        "label":"product text"
      }]
    }],
    "presets":[{
      "name":"Cup-Presell-Creativity"
    }]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}