<style>
  .cup-presell-ticket{
    text-align:center;
    color: #723600;
    padding-top: 50px;
  }
  .cup-copy-ticket{
    width:1600px;
    margin:0 auto;
    position: relative;
  }
  .cup-tickets {
    display: flex;
    justify-content: center;
  }
  .cup-hot-title{
    position: relative;
    padding-bottom: 16px;
  }
  .cup-hot-title>picture>img{
    margin:0 auto;
  }
  .cup-hot-title>div{
    text-align: center;
    position: absolute;
    top: 13%;
    left: 50%;
    transform: translateX(-43%);
    font-size: 36px;
    font-weight: bold;
    color: #FDEACA;
    line-height: 54px;
  }
  .cup-ticket-item {
    margin-right: 23px;
    position: relative;
    color: #884A17;
  }
  .cup-ticket-item:nth-last-child(1){
    margin-right:0;
  }
  .cup-ticket-main {
    display: flex;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    padding: 0 29px;
    align-items: center;
    justify-content: space-between;
    width: 100%;
  }
  .cup-ticket-money {
    text-align: center;
    flex: 1;
    font-size: 24px;
    color: #FFF8E1;
    line-height: 33px;
    padding-right: 47px;
    padding-top: 58px;
  }
  .cup-ticket-message {
    width: calc(100% - 235px);
    text-align:left;
    padding-top: 20px;
  }
  .cup-ticket-message>div {
    display: flex;
    margin-bottom: 17px;
    align-items: center;
  }
  .cup-hot-label {
    font-size: 20px;
    line-height: 22px;
  }
  .cup-hot-value {
    font-size: 20px;
    line-height: 22px;
  }
  .cup-copy-btn{
    width: 65px;
    height: 30px;
    background: linear-gradient(180deg, #FFF6E1 0%, #FFD476 77%, #FFF5E9 100%);
    box-shadow: 0px 1px 2px 0px rgba(98,53,0,0.34), inset 0px 1px 3px 0px rgba(255,255,255,0.5);
    border-radius: 4px;
    font-size: 14px;
    font-weight: bold;
    color: #884A17;
    line-height: 25px;
    text-align: center;
    margin-left: 6px;
    cursor: pointer;
  }
  .fn-bg-out{
    background-image: linear-gradient(180deg, rgba(255, 248, 230, 1), rgba(255, 238, 200, 1));
    margin-top: 42px;
    border-radius: 50px;
    padding: 2px;
    position: relative;
  }
  .fn-bg-in{
    border-radius: 50px;
    background: linear-gradient(180deg, #FFE6B5 0%, #FFC97E 100%);
    padding: 20px 0 30px 0;
  }
   @media screen and (max-width: 1720px){
     .cup-copy-ticket{
       width:88%;
       margin:0 auto;
     }
     .cup-hot-title{
       font-size:28px;
     }
   }
   @media screen and (max-width: 1440px){
     .cup-ticket-main {
        padding: 0 20px;
      }
     .cup-ticket-item{
       margin-right:10px;
       width:45%;
     }
     .cup-ticket-money {
      width: 80px;
    }
    .cup-hot-label, .cup-hot-value {
      font-size: 16px;
      line-height: 22px;
    }
     .cup-ticket-message>div {
      margin-bottom: 8px;
    }
     .cup-hot-title>div{
       font-size:28px;
     }
   }
  @media screen and (max-width: 1280px){
    .cup-ticket-message>div {
      margin-bottom: 8px;
    }
  }
   @media screen and (max-width: 1024px){
    .cup-ticket-main{
      padding: 0 10px;
    }
     .cup-hot-title>div {
      font-size: 22px;
    }
     .cup-ticket-message {
      width: auto;
     }
     .cup-hot-title>picture>img{
       width:90%;
     }
   }
  @media screen and (max-width: 820px){
    .cup-copy-ticket{
      width:93.6%;
    }
    .cup-presell-ticket{
      padding-top:15px;
    }
    .cup-hot-title{
      font-size:16px;
      line-height:22px;
      padding-bottom: 10px;
    }
    .cup-ticket-message {
      width: 62%;
      padding-left:5px;
    }
    .cup-ticket-item>picture>img{
      width:auto;
    }
   .cup-hot-label, .cup-hot-value {
      font-size: 14px;
      line-height: 19px;
    }
    .cup-ticket-item {
      margin-right: 0;
      margin-bottom: 9px;
      padding: 0 4px;
      flex:1;
    }
    .cup-ticket-money {
      width: 28%;
    }
    .fn-bg-out,.fn-bg-in{
      border-radius: 18px;
    }
    .cup-hot-title>picture>img{
      width:auto;
    }
    .cup-hot-title>div{
      font-size: 16px;
      line-height: 22px;
      transform: translateX(-50%);
      top: 20%;
      width:100%;
    }
    .cup-copy-ticket .fn-bg-in{
      padding: 14px 10px 12px;
    }
    .cup-ticket-main {
      padding: 0;
    }
    .cup-ticket-money {
      padding: 0;
      padding-top: 47px;
      font-size: 16px;
    }
    .cup-ticket-message>div:nth-child(2){
      margin-bottom:2px;
    }
    .fn-bg-out{
      margin-top:13px;
    }
  }
  @media screen and (max-width: 750px){
    .cup-tickets {
      flex-direction: column;
      align-items: center;
    }
    .cup-ticket-message>div:nth-child(1) {
      margin-bottom: 5px;
    }
    .cup-ticket-item{
      width: 334px;
    }
  }
  @media screen and (max-width: 450px){
    
  }
</style>
<div class="cup-presell-ticket" id="{{ section.settings.id }}">
  <div class="cup-copy-ticket">
    <div class="fn-bg-small-out">
      <div class="fn-bg-small-in"></div>
    </div>
    <div class="fn-bg-out">
      <div class="fn-bg-in">
        <div class="cup-hot-title">
          <picture>
            <source media="(max-width: 820px)" srcset="{{ section.settings.title_background_mobile | img_url:'334x' }}">
            <source media="(min-width: 821px)" srcset="{{ section.settings.title_background | img_url:'812x' }}">
            <img src="{{ section.settings.title_background | img_url:'812x' }}">
          </picture>
          <div>{{ section.settings.title }}</div>
        </div>
        <div class="cup-tickets">
          {% for block in section.blocks %}
            <div class="cup-ticket-item">
              <picture>
                <source media="(max-width: 820px)" srcset="{{ block.settings.ticket_image_mobile | img_url:'334x' }}">
                <source media="(min-width: 821px)" srcset="{{ block.settings.ticket_image | img_url:'632x' }}">
                <img src="{{ block.settings.ticket_image | img_url:'632x' }}">
              </picture>
              <div class="cup-ticket-main">
                <div class="cup-ticket-money">
                  {{ block.settings.coupon }}
                </div>
                <div class="cup-ticket-message">
                  <div>
                    <div class="cup-hot-label">Validity:&nbsp;</div>
                    <div class="cup-hot-value">
                      {{ block.settings.code_validity }}
                    </div>
                  </div>
                  <div>
                    <div class="cup-hot-label">
                      {{ block.settings.label }}
                    </div>
                  </div>
                  <div>
                    <div class="cup-hot-label">Code:&nbsp;</div>
                    <div class="cup-hot-value">
                      {{ block.settings.code }}
                    </div>
                    <div class="cup-copy-btn" onclick="copyticket('{{ block.settings.code }}')">copy</div>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function copyticket(code){
    let url = code;
    let copyInput = document.createElement('input');
    	document.body.appendChild(copyInput);
    	copyInput.setAttribute('value', url);
    	copyInput.select();
    	document.execCommand("Copy");
    	copyInput.remove();
        alertMsg()
  }
   function alertMsg(){
      var alertFram = document.createElement("DIV");
      alertFram.id = "alertFram";
      alertFram.style.position = "fixed";
      alertFram.style.width = "100%";
      alertFram.style.textAlign = "center";
      alertFram.style.bottom = "40px";
      alertFram.style.zIndex = "10001";
      strHtml = " <span style=\"font-family: 微软雅黑;display:inline-block;background:#333;color:#fff;padding:0 20px;line-height:36px;border-radius:6px; \">Copied successfully</span>";
      alertFram.innerHTML = strHtml;
      document.body.appendChild(alertFram);
      setTimeout((function(){
        alertFram.style.display="none";
      }),2000);
    }
</script>
{% schema %}
{
  "name": "Super-Shopping-Coupon",
  "settings": [{
    "type": "text",
    "id": "id",
    "label": "id(页面唯一性，全英文)"
  },{
    "type": "text",
    "id": "title",
    "label": "title"
  },{
    "type":"image_picker",
    "id":"title_background",
    "label":"title background"
  },{
    "type":"image_picker",
    "id":"title_background_mobile",
    "label":"title background mobile"
  }],
  "blocks":[{
    "type":"ticket",
    "name": "ticket",
    "settings": [{
          "type":"image_picker",
          "id":"ticket_image",
          "label":"ticket image"
        },{
          "type":"image_picker",
          "id":"ticket_image_mobile",
          "label":"ticket image mobile"
        },{
          "type": "text",
          "id": "coupon",
          "label": "coupon"
        },{
          "type": "text",
          "id": "code_validity",
          "label": "Code Validity"
        },{
          "type": "text",
          "id": "label",
          "label": "label"
        },{
          "type": "text",
          "id": "code",
          "label": "code"
        }
    ]
  }],
  "presets":[{
    "name":"Super-Shopping-Coupon"
  }]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
